@import '../../../../global.scss';
/* ===== Color tokens pulled from the screenshot ===== */
:host {
  --bg: #fbfbfc;
  --text: #2f2f36;
  --muted: #6c6d76;
  --line: #eef0f4;

  --purple: #a89ec8;
  --purple-200: #d1b8d0;
  --aqua: #a4d4dc;
  --aqua-600: #67c4d2;
  --green: #95b12d;
  --green-200: #cdda9c;
  --gray-400: #adadb8;

  --card-bg: #ffffff;
  --chip: #f5f5fb;
}

/* ===== Base ===== */
ion-content.dash {
  --background: var(--bg);
  color: var(--text);
  font-family: Inter, "Segoe UI", Roboto, system-ui, -apple-system, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Noto Color Emoji", sans-serif;
}

/* Small typography scale to match screenshot */
h1.greeting { font-size: 16px; font-weight: 600; margin: 0; }
.subtle, .tiny { font-size: 11px; color: var(--muted); }

.link { color: var(--purple); text-decoration: none; }
.link:hover { text-decoration: underline; }

.g-16 { row-gap: 16px; }

/* ===== Header ===== */
.app-header {
  --background: var(--card-bg);
  border-bottom: 1px solid var(--line);

  ion-toolbar {
    --min-height: 56px;
    padding: 8px 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    .header-left { display: flex; flex-direction: column; gap: 2px; }
    ion-buttons { gap: 8px; }
  }

  .btn-primary {
    --border-radius: 10px;
    --padding-start: 12px;
    --padding-end: 12px;
    --background: var(--purple);
    --background-hover: color-mix(in oklab, var(--purple), #000 6%);
    --color: #fff;
    height: 30px;
  }

  .btn-outline {
    --border-radius: 10px;
    --padding-start: 10px;
    --padding-end: 10px;
    --color: var(--purple);
    --border-color: var(--purple);
    height: 30px;
  }
}

/* ===== Cards ===== */
.card {
  background: var(--card-bg);
  border: 1px solid var(--line);
  border-radius: 14px;
  box-shadow: 0 2px 8px rgba(16, 20, 40, 0.03);
  padding: 12px;

  .card-h {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;

    .card-title { font-size: 12px; font-weight: 600; color: #3b3d46; }
    ion-icon { color: var(--gray-400); font-size: 16px; }
  }
}

/* ===== Mini bars (weekly pattern) ===== */
.mini-bars {
  height: 88px;
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  align-items: end;
  gap: 8px;

  .bar {
    height: calc(var(--h));
    background: var(--purple-200);
    border-radius: 8px;
  }
}
.axis {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  text-align: center;
  color: var(--muted);
  margin-top: 6px;

  &.months { grid-template-columns: repeat(12, 1fr); }
}

/* ===== Spark bars (monthly rate) ===== */
.spark {
  display: flex;
  gap: 6px;
  align-items: flex-end;
  height: 72px;

  .spark-bar {
    width: 100%;
    max-width: 18px;
    height: calc(var(--w));
    background: var(--aqua);
    border-radius: 6px;

    &.hi { background: var(--purple); }
  }
}

/* ===== Donuts ===== */
.donut-wrap { display: flex; align-items: center; justify-content: space-between; gap: 12px; }

.donut {
  --size: 112px;
  --thickness: 12px;
  width: var(--size);
  height: var(--size);
  border-radius: 50%;
  position: relative;
  display: grid;
  place-items: center;
  background:
    conic-gradient(var(--purple) 0 40%, var(--aqua-600) 40% 70%, var(--green) 70% 100%);
  mask: radial-gradient(circle calc(50% - var(--thickness)), #0000 98%, #000 100%);

  &.-purple { background: conic-gradient(var(--purple) 0 70%, #ececf4 70% 100%); }
  &.-green  { background: conic-gradient(var(--green) 0 40%, #e8f2cf 40% 100%); }
  &.-aqua   { background: conic-gradient(var(--aqua-600) 0 55%, #e8f6f9 55% 100%); }
  &.-empty  { background: conic-gradient(#e9ebef 0 100%); }

  &.-multi { /* used in "Consumed Leave Type" */ }

  .donut-center {
    position: absolute; inset: 0;
    display: grid; place-items: center;
    .donut-num { font-size: 18px; font-weight: 700; color: #2b2e37; }
    .donut-cap { color: var(--muted); margin-top: -4px; }
  }
}
.legend { display: flex; gap: 12px; flex-wrap: wrap; color: var(--muted);
  .dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 6px; }
  .c-purple { background: var(--purple); }
  .c-aqua   { background: var(--aqua-600); }
  .c-green  { background: var(--green); }
}

/* ===== Split card (donut + meta) ===== */
.split {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 12px;

  .meta {
    align-self: center;
    display: grid;
    gap: 6px;

    .krow {
      display: flex; justify-content: space-between; align-items: center;
      padding: 6px 8px; border: 1px solid var(--line);
      border-radius: 8px; background: #fff;
      .label { font-size: 11px; color: var(--muted); }
      .val   { font-size: 11px; font-weight: 600; color: #394047; }
    }
  }
}

.empty-state { padding: 18px; color: var(--muted); text-align: center; }

/* ===== Table ===== */
.card.table {
  padding: 0;

  .table-h {
    padding: 10px 12px;
    border-bottom: 1px solid var(--line);
    display: flex; align-items: center; gap: 12px; justify-content: space-between;

    .filters { display: flex; gap: 8px; }
    ion-searchbar.tiny { --box-shadow: 0; --background: #fff; --border-radius: 10px; width: 260px; }
  }

  .tbl {
    .tr { display: grid; grid-template-columns: 1.2fr 0.9fr 1.2fr 1fr 0.8fr 0.9fr 1.2fr 0.6fr; }
    .th { position: sticky; top: 0; background: #fff; z-index: 1; }
    .td { padding: 10px 12px; border-bottom: 1px solid var(--line); font-size: 11px; color: #3a3e45; }
    .th .td { font-weight: 600; color: #565b66; background: #fafbff; }
  }

  .pager {
    display: flex; justify-content: flex-end; gap: 16px;
    padding: 8px 12px;
    color: var(--muted);
  }
}

/* ===== Utilities ===== */
ion-select.tiny, ion-input.tiny, ion-searchbar.tiny, .tiny { font-size: 11px !important; }

@media (max-width: 1199px) {
  .split { grid-template-columns: 1fr; }
  .tbl .tr { grid-template-columns: 1fr 1fr; }
}



.leaves-block {
  --background: #E6F1FF;
  .request-btn {
    ion-button {
      --background: #122F44;
      height: 42px;
      border-radius: 6px;
    }   
    display: flex;
    justify-content: end;
    margin: 24px;
  }
  .card-tabs-block {
    margin: 16px;
    background: #fff; 
    padding: 16px;
    border-radius: 8px;
    ion-row {
      justify-content: space-between;
    }
    .card-header {
      @include card-header();
      color: #1C1C1C !important;
      margin-bottom: 15px;
      margin-top: 5px;
    }
    .card-block {
      border: 1px solid #C9C9C9;
      padding: 10px;
      border-radius: 4px;
      text-align: center;
      .card-header {
        @include card-sub-title();
        color: #626262;
      }
      .number {
        @include card-header();
        color: #1870B9;
        font-weight: 700;
      }
      .label {
        @include text-style-normal();
        color: #626262;
      }
      ion-img {
        width: 90px;
        margin: auto;
      }
    }
    &.table-block {
      .header-title {
       @include text-style-bold();
      }
      ion-img {
        width: 38px;
        padding-right: 8px;
      }
      .table-cell {
        padding: 0 24px; 
        @include normal-text-unbold();
        .pending, .approved, .rejected {
            width: 90px;
            text-align: center;
            height: 24px;
            border-radius: 4px;
            padding: 4px 10px;
            @include body-text();
        }
        .pending {
           background: #FFE9D2;
           border: 1px solid #C56305;
           color: #C56305;
        }
        .approved {
          background: #C7FFEA;
          border: 1px solid #2E9D74;
          color: #2E9D74;
        }
        .rejected {
          background: #FFE0E0;
          border: 1px solid #EF4444;
          color: #EF4444;
        }
      }
      .table-header {
        padding: 0 24px; 
        @include normal-text();
      }
      
    }
    &.additinal-block {
        @include normal-text-unbold();
        color: #626262;
    }
  }
}